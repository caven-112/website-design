<!DOCTYPE html>

<html>
    <head>
        <title>Profile</title>
        <link rel="stylesheet" href="base.css">
        <link rel="stylesheet" href="components.css">
        <link rel="stylesheet" href="custom.css">
    </head>
    

    <script>
        document.addEventListener('DOMContentLoaded', () => {
    
            document.body.classList.add('default-theme');
            showPage('body-profile-page')
            const buttonList = document.querySelector('#button-list');


            if (buttonList) {
                buttonList.classList.add('default-theme');
            }

            document.querySelectorAll('button').forEach(button => {
                button.addEventListener('click', handleButtonClick);
            });

            document.getElementById('change-user-btn').addEventListener('click', changeUser);
        });




        function handleButtonClick(event) {
            const button = event.target;
            const page = button.getAttribute('data-page');
            const theme = document.querySelector('#trigger-theme-change');

            if (page) {
                showPage(page);
            };

            if (button.id === 'trigger-theme-change') {
                toggleTheme();
            }
        }


        function showPage(pageId) {
            const divs = document.querySelectorAll('div[id]:not(#button-list)');
    
            divs.forEach(div => div.style.display = 'none');
    
            const page = document.querySelector(`#${pageId}`);

            if (page) {
                page.style.display = 'block';
            }
        }


        function changeUser() {
            const userInput = document.getElementById('trigger-profile-change').value;
            const validUsers = ['user-profile-1', 'user-profile-2', 'user-profile-3', 'user-profile-4', 'user-profile-5'];
            const errorMessage = document.getElementById('profile-error-message');

            if (validUsers.includes(userInput)) {
                errorMessage.style.display = 'none';
                updateProfile(userInput);
            } else {
                errorMessage.style.display = 'block';
            }
        }

        function updateProfile(profile) {
            document.getElementById('body-profile-page').innerHTML = `<h2>${profile}'s Profile Page</h2>`;
            document.getElementById('body-media-page').innerHTML = `<h2>${profile}'s Social Media Page</h2>`;
        }

        function toggleTheme() {
            document.body.classList.toggle('dark-theme');
            document.body.classList.toggle('default-theme');

            const buttonList = document.querySelector('#button-list');
            if (buttonList) {
                buttonList.classList.toggle('dark-theme');
                buttonList.classList.toggle('default-theme');
            }

            document.querySelectorAll('#button-list button, .body-setting-page button').forEach(button => {
                button.classList.toggle('dark-theme');
                button.classList.toggle('default-theme');
            });
        }
    </script>

    <body class="transition">
        <div id="button-list">
            <ul id="navid">
                <li><button data-page="body-profile-page">Profile</button></li>
                <li><button data-page="body-media-page">Social Media</button></li>
                <li><button data-page="body-setting-page">Setting</button></li>
            </ul>
        </div>
        

        <!--Profile Page-->
        <div id="body-profile-page">

            <div class="profile-author-bio">

                <div class="profile-author-picture"></div>

                <div class="profile-author-information">
                    <h2 class="profile-author-name">Benito Juarez</h2>

                    <div class="profile-author-description"> 
                        <p>My name is Benito Juarez, i'm born from Mexico. I fight for freedom of my people</p>
                    </div>
                </div>
            </div>
        </div>

        <!--Social Media Page-->
        <div id="body-media-page">
            <h1>Social Media Page</h1>
        </div>

        <!--Settings-->
        <div class="body-setting-page">
            <h1>Setting Page</h1>


            
            <div>
                <h2>Change Theme</h2>
                <button id="trigger-theme-change">Toggle Theme</button>
            </div>



            <div class="setting-button-list">
                <h2>Change Profile</h2>
                <input id="trigger-profile-change" name="profile" list="profiles" placeholder="Select or type a profile">
                        <datalist id="profiles">
                            <option value="user-profile-1">
                            <option value="user-profile-2">
                            <option value="user-profile-3">
                            <option value="user-profile-4">
                            <option value="user-profile-5">
                        </datalist>
                        <button id="change-user-btn">Change User</button>
                        <p id="profile-error-message">Error: User doesn't exist!</p>
            </div>
        </div>
    </body>
</html>